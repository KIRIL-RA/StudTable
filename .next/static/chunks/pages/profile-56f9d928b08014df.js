(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[277],{9344:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return c(8812)}])},986:function(a,b,c){"use strict";c.d(b,{DI:function(){return m},OL:function(){return d},Ur:function(){return o},V3:function(){return l},Wn:function(){return e},bC:function(){return h},hR:function(){return k},hh:function(){return p},k9:function(){return i},n3:function(){return n},uC:function(){return j},wF:function(){return g},x5:function(){return f}});var d=function(a){return{type:"SET_SELECTED_DAY",payload:a}},e=function(){return{type:"TIMETABLE_FETCHING"}},f=function(a){return{type:"TIMETABLE_FETCHED",payload:a}},g=function(){return{type:"TIMETABLE_FETCHING_ERROR"}},h=function(){return{type:"DISCLIPLINES_FETCHING"}},i=function(a){return{type:"DISCLIPLINES_FETCHED",payload:a}},j=function(){return{type:"DISCLIPLINES_FETCHING_ERROR"}},k=function(){return{type:"USER_FETCHING"}},l=function(a){return{type:"USER_FETCHED",payload:a}},m=function(){return{type:"USER_FETCHING_ERROR"}},n=function(){return{type:"UNCONFIRMED_FETCHING"}},o=function(a){return{type:"UNCONFIRMED_FETCHED",payload:a}},p=function(){return{type:"UNCONFIRMED_FETCHING_ERROR"}}},3203:function(a,b,c){"use strict";c.d(b,{Z:function(){return n}});var d=c(5893),e=c(1664),f=c.n(e),g=c(5675),h=c.n(g),i=c(1627),j=c.n(i),k={src:"/_next/static/media/toActionPage.03808b97.png",height:512,width:512,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAQAAABuBnYAAAAAPUlEQVR42mWNoREAIAwDf3/PGiC4Y4tyh2SMIqqJbvMmiUigMekM0ZlKXALnCSeUqhYHYwuTW7XIqqP59gP+rSXlpXgMQwAAAABJRU5ErkJggg=="},l={src:"/_next/static/media/profile.dd830eb9.png",height:512,width:512,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAQAAABuBnYAAAAAV0lEQVR42i3HLQ6CYAAA0LevmERN6szOM8jG+DsPYxRGgQIJEonrQmAvPQLumsMDARilEhPAVwdaPwjoFTLDOU+bxWzzgqvVB7ytIiolLgdyNX83AJF4BwLQCyeNu7i4AAAAAElFTkSuQmCC"},m=function(){return(0,d.jsxs)("div",{className:j().wrapper,children:[(0,d.jsx)(f(),{href:"/actions",children:(0,d.jsx)("a",{children:(0,d.jsx)(h(),{className:j().first,src:k,width:"30",height:"30"})})}),(0,d.jsx)(f(),{href:"/timetable",children:(0,d.jsx)("span",{className:j().logo,children:"Studtable"})}),(0,d.jsx)(f(),{href:"/profile",children:(0,d.jsx)("a",{children:(0,d.jsx)(h(),{className:j().first,src:l,width:"30",height:"30"})})})]})},n=m},3538:function(a,b,c){"use strict";c.d(b,{Z:function(){return k}});var d=c(5893),e=c(5675),f=c.n(e),g={src:"/_next/static/media/loading.ab9d4797.svg",height:200,width:200},h=c(2104),i=c.n(h),j=function(){return(0,d.jsx)("div",{className:i().wrapper,children:(0,d.jsx)(f(),{src:g,width:170,height:170})})},k=j},4736:function(a,b,c){"use strict";c.d(b,{Z:function(){return h}});var d=c(1163),e=c.n(d),f=c(1617),g=c(1635);function h(){fetch("".concat(f.API_HOST,"/checklogin")).then(function(a){return a.json()}).then(function(a){a.statusCode!==g.OK&&e().push("/login")})}},2138:function(a,b,c){"use strict";function d(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}c.d(b,{Z:function(){return i}});var e=c(4051),f=c.n(e),g=c(7294),h=function(){var a,b;return{request:g.useCallback((b=(a=f().mark(function a(b){var c,d,e,g,h,i=arguments;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return c=i.length>1&& void 0!==i[1]?i[1]:"GET",d=i.length>2&& void 0!==i[2]?i[2]:null,e=i.length>3&& void 0!==i[3]?i[3]:{"Content-Type":"application/json"},a.prev=1,a.next=4,fetch(b,{method:c,body:d,headers:e});case 4:if((g=a.sent).ok){a.next=7;break}throw Error("Could not fetch ".concat(b,", status: ").concat(g.status));case 7:return a.next=9,g.json();case 9:return h=a.sent,a.abrupt("return",h);case 13:throw a.prev=13,a.t0=a.catch(1),a.t0;case 16:case"end":return a.stop()}},a,null,[[1,13]])}),function(){var b=this,c=arguments;return new Promise(function(e,f){var g=a.apply(b,c);function h(a){d(g,e,f,h,i,"next",a)}function i(a){d(g,e,f,h,i,"throw",a)}h(void 0)})}),function(a){return b.apply(this,arguments)}),[])}},i=h},8812:function(a,b,c){"use strict";c.r(b);var d=c(5893),e=c(2138),f=c(3203),g=c(7294),h=c(9473),i=c(986),j=c(5989),k=c.n(j),l=c(3538),m=c(1664),n=c.n(m),o=c(4736),p=c(1617),q=function(){var a,b,c,j,m,q,r=(0,h.I0)(),s=(0,e.Z)().request,t=(0,h.v9)(function(a){return a.reducer}),u=t.user,v=t.userStatus,w=function(){s("".concat(p.API_HOST,"/exitaccount"))};return((0,g.useEffect)(function(){(0,o.Z)()},[]),(0,g.useEffect)(function(){r((0,i.hR)()),s("".concat(p.API_HOST,"/getuserinfo")).then(function(a){return"100"===a.statusCode?r((0,i.V3)(a.data)):r((0,i.DI)())}).catch(function(){return r((0,i.DI)())})},[]),"loading"===v||""===u)?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(f.Z,{}),(0,d.jsx)(l.Z,{})]}):"idle"===v?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(f.Z,{}),(0,d.jsxs)("div",{className:k().wrapper,children:[(0,d.jsxs)("h3",{children:[null==u?void 0:null===(a=u.realInfo)|| void 0===a?void 0:a.firstName," ",null==u?void 0:null===(b=u.realInfo)|| void 0===b?void 0:b.secondName]}),(null==u?void 0:u.isConfirmed)?(0,d.jsx)("p",{className:k().green,children:"Подтвержденный"}):(0,d.jsx)("p",{className:k().red,children:"Не подтвержденный"}),(null==u?void 0:u.accountType)==="GroupHeadman"?(0,d.jsx)("p",{children:"Роль: староста"}):(0,d.jsx)("p",{children:"Роль: студент"}),(0,d.jsxs)("p",{children:["Факультет: ",null==u?void 0:null===(c=u.academy)|| void 0===c?void 0:c.faculty]}),(0,d.jsxs)("p",{children:["Курс: ",null==u?void 0:null===(j=u.academy)|| void 0===j?void 0:j.course]}),(0,d.jsxs)("p",{children:["Группа: ",null==u?void 0:null===(m=u.academy)|| void 0===m?void 0:m.group]}),(0,d.jsxs)("p",{children:["Направление: ",null==u?void 0:null===(q=u.academy)|| void 0===q?void 0:q.directionId]}),(0,d.jsx)(n(),{href:"/login",children:(0,d.jsx)("p",{className:k().logout,onClick:w,children:"Выйти"})})]})]}):void 0};b.default=q},1627:function(a){a.exports={wrapper:"Layout_wrapper__pGf4r",container:"Layout_container__K9hpm",logo:"Layout_logo__AuZPt"}},2104:function(a){a.exports={wrapper:"Spinner_wrapper__DEr6v"}},5989:function(a){a.exports={wrapper:"profile_wrapper__3RQHV",green:"profile_green__hIr1y",red:"profile_red___MXVZ",logout:"profile_logout__5C0Id"}},1163:function(a,b,c){a.exports=c(387)},1635:function(a){"use strict";a.exports=JSON.parse('{"NOT_ALL_PARAMETERS_WERE_RECIEVED":"20","INCORRECT_REQUEST":"80","OPERATION_FAILED":"90","NOT_FOUNDED":"70","OK":"100","USER_LOGIN_ERROR":"110","ERROR_CHECK_USER_LOGIN_DATA":"120","DATE_CONFLICT":"130","QUALIFICATION_ERROR":"140","USERNAME_ALREADY_EXIST":"150"}')},1617:function(a){"use strict";a.exports={API_HOST:"/api"}}},function(a){a.O(0,[61,774,888,179],function(){var b;return a(a.s=9344)}),_N_E=a.O()}])