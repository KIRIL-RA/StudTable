(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[645],{6847:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/confirmAccounts",function(){return c(5032)}])},986:function(a,b,c){"use strict";c.d(b,{DI:function(){return m},OL:function(){return d},Ur:function(){return o},V3:function(){return l},Wn:function(){return e},bC:function(){return h},hR:function(){return k},hh:function(){return p},k9:function(){return i},n3:function(){return n},uC:function(){return j},wF:function(){return g},x5:function(){return f}});var d=function(a){return{type:"SET_SELECTED_DAY",payload:a}},e=function(){return{type:"TIMETABLE_FETCHING"}},f=function(a){return{type:"TIMETABLE_FETCHED",payload:a}},g=function(){return{type:"TIMETABLE_FETCHING_ERROR"}},h=function(){return{type:"DISCLIPLINES_FETCHING"}},i=function(a){return{type:"DISCLIPLINES_FETCHED",payload:a}},j=function(){return{type:"DISCLIPLINES_FETCHING_ERROR"}},k=function(){return{type:"USER_FETCHING"}},l=function(a){return{type:"USER_FETCHED",payload:a}},m=function(){return{type:"USER_FETCHING_ERROR"}},n=function(){return{type:"UNCONFIRMED_FETCHING"}},o=function(a){return{type:"UNCONFIRMED_FETCHED",payload:a}},p=function(){return{type:"UNCONFIRMED_FETCHING_ERROR"}}},3203:function(a,b,c){"use strict";c.d(b,{Z:function(){return n}});var d=c(5893),e=c(1664),f=c.n(e),g=c(5675),h=c.n(g),i=c(1627),j=c.n(i),k={src:"/_next/static/media/toActionPage.03808b97.png",height:512,width:512,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAQAAABuBnYAAAAAPUlEQVR42mWNoREAIAwDf3/PGiC4Y4tyh2SMIqqJbvMmiUigMekM0ZlKXALnCSeUqhYHYwuTW7XIqqP59gP+rSXlpXgMQwAAAABJRU5ErkJggg=="},l={src:"/_next/static/media/profile.dd830eb9.png",height:512,width:512,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAQAAABuBnYAAAAAV0lEQVR42i3HLQ6CYAAA0LevmERN6szOM8jG+DsPYxRGgQIJEonrQmAvPQLumsMDARilEhPAVwdaPwjoFTLDOU+bxWzzgqvVB7ytIiolLgdyNX83AJF4BwLQCyeNu7i4AAAAAElFTkSuQmCC"},m=function(){return(0,d.jsxs)("div",{className:j().wrapper,children:[(0,d.jsx)(f(),{href:"/actions",children:(0,d.jsx)("a",{children:(0,d.jsx)(h(),{className:j().first,src:k,width:"30",height:"30"})})}),(0,d.jsx)(f(),{href:"/timetable",children:(0,d.jsx)("span",{className:j().logo,children:"Studtable"})}),(0,d.jsx)(f(),{href:"/profile",children:(0,d.jsx)("a",{children:(0,d.jsx)(h(),{className:j().first,src:l,width:"30",height:"30"})})})]})},n=m},4736:function(a,b,c){"use strict";c.d(b,{Z:function(){return h}});var d=c(1163),e=c.n(d),f=c(1617),g=c(1635);function h(){fetch("".concat(f.API_HOST,"/checklogin")).then(function(a){return a.json()}).then(function(a){a.statusCode!==g.OK&&e().push("/login")})}},7613:function(a,b,c){"use strict";var d=c(1163),e=c.n(d),f=c(1617);b.Z=function(){fetch("".concat(f.API_HOST,"/getspecificpermissions")).then(function(a){return a.json()}).then(function(a){var b;(null===(b=a.data)|| void 0===b?void 0:b.includes("updtt"))||e().push("/timetable")})}},2138:function(a,b,c){"use strict";function d(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}c.d(b,{Z:function(){return i}});var e=c(4051),f=c.n(e),g=c(7294),h=function(){var a,b;return{request:g.useCallback((b=(a=f().mark(function a(b){var c,d,e,g,h,i=arguments;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return c=i.length>1&& void 0!==i[1]?i[1]:"GET",d=i.length>2&& void 0!==i[2]?i[2]:null,e=i.length>3&& void 0!==i[3]?i[3]:{"Content-Type":"application/json"},a.prev=1,a.next=4,fetch(b,{method:c,body:d,headers:e});case 4:if((g=a.sent).ok){a.next=7;break}throw Error("Could not fetch ".concat(b,", status: ").concat(g.status));case 7:return a.next=9,g.json();case 9:return h=a.sent,a.abrupt("return",h);case 13:throw a.prev=13,a.t0=a.catch(1),a.t0;case 16:case"end":return a.stop()}},a,null,[[1,13]])}),function(){var b=this,c=arguments;return new Promise(function(e,f){var g=a.apply(b,c);function h(a){d(g,e,f,h,i,"next",a)}function i(a){d(g,e,f,h,i,"throw",a)}h(void 0)})}),function(a){return b.apply(this,arguments)}),[])}},i=h},5032:function(a,b,c){"use strict";c.r(b);var d=c(797),e=c(5893),f=c(4736),g=c(7613),h=c(7294),i=c(9961),j=c.n(i),k=c(3203),l=c(2138),m=c(9473),n=c(986),o=c(1617),p=function(){var a=(0,l.Z)().request,b=(0,m.I0)(),c=(0,m.v9)(function(a){return a.reducer}).unconfirmed,i=(0,h.useState)([]),p=i[0],q=i[1],r=function(b){a("".concat(o.API_HOST,"/confirmaccount"),"POST",JSON.stringify({userId:b})).then(function(a){"100"===a.statusCode&&q(function(a){return(0,d.Z)(a).concat([b])})})};(0,h.useEffect)(function(){(0,f.Z)(),(0,g.Z)()},[]),(0,h.useEffect)(function(){b((0,n.n3)()),a("".concat(o.API_HOST,"/getunconfirmedaccounts")).then(function(a){return b((0,n.Ur)(a.data))}).catch(function(){return b((0,n.hh)())})},[]);var s=c.map(function(a){return(null==p?void 0:p.includes(a.userId))?(0,e.jsxs)("div",{className:j().list__item_confirmed,children:[(0,e.jsxs)("span",{className:j().name,children:[a.realInfo.firstName," ",a.realInfo.secondName]}),(0,e.jsx)("div",{})]},a.userId):(0,e.jsxs)("div",{className:j().list__item,children:[(0,e.jsxs)("span",{className:j().name,children:[a.realInfo.firstName," ",a.realInfo.secondName]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("button",{className:j().decline,children:"Отклонить"}),(0,e.jsx)("button",{className:j().accept,onClick:function(){return r(a.userId)},children:"Принять"})]})]},a.userId)});return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(k.Z,{}),(0,e.jsx)("h3",{className:j().title,children:"Подтвердить аккаунты:"}),s,0===s.length?(0,e.jsx)("p",{className:j().title,children:"Нет аккаунтов для подтверждения"}):null]})};b.default=p},1627:function(a){a.exports={wrapper:"Layout_wrapper__pGf4r",container:"Layout_container__K9hpm",logo:"Layout_logo__AuZPt"}},9961:function(a){a.exports={title:"confirmAccounts_title__ve23I",name:"confirmAccounts_name__eIsW1",list__item:"confirmAccounts_list__item__c78wH",list__item_confirmed:"confirmAccounts_list__item_confirmed__FHuyV",decline:"confirmAccounts_decline__UpoPX",accept:"confirmAccounts_accept__2QJJ5"}},1163:function(a,b,c){a.exports=c(387)},797:function(a,b,c){"use strict";function d(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function e(a){return function(a){if(Array.isArray(a))return d(a)}(a)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(a)||function(a,b){if(a){if("string"==typeof a)return d(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(c);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return d(a,b)}}(a)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}c.d(b,{Z:function(){return e}})},1635:function(a){"use strict";a.exports=JSON.parse('{"NOT_ALL_PARAMETERS_WERE_RECIEVED":"20","INCORRECT_REQUEST":"80","OPERATION_FAILED":"90","NOT_FOUNDED":"70","OK":"100","USER_LOGIN_ERROR":"110","ERROR_CHECK_USER_LOGIN_DATA":"120","DATE_CONFLICT":"130","QUALIFICATION_ERROR":"140","USERNAME_ALREADY_EXIST":"150"}')},1617:function(a){"use strict";a.exports={API_HOST:"/api"}}},function(a){a.O(0,[61,774,888,179],function(){var b;return a(a.s=6847)}),_N_E=a.O()}])